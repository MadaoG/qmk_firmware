/* #include "ergodox.h" */
#include QMK_KEYBOARD_H
#include "action_layer.h"
#include "keymap_extras/keymap_german.h"
#include "mousekey.h"

#define UM 0

#define _BASE 0   // base layer

#define _FW 1 // fast writing
#define _FC 2 // fast coding
#define _SM 3 // symbol layer
#define _NM 4 // digit layer (plus movements)
#define _FN 5 // fn keys
#define _GM 6 // gaming layer
#define _MS 7
#define _D  8 // empty layer, may be useful as first reference

#define _______ KC_TRNS

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
/*
    .---------------------------------------------------------.           .---------------------------------------------------------.
    | tg _fw  |   1   |   2   |   3   |   4   |   5   |   ´   |           |   `   |   6   |   7   |   8   |   9   |   0   |    L4   |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    | tg _ms  |   x   |   v   |   l   |   c   |   w   |       |           |       |   k   |   h   |   g   |   f   |   q   |    ß    |
    |         |       |       |  sft  |       |       |   :   |           |   @   |       |       |  sft  |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |   u   |   i   |   a   |   e   |   o   |_______|           |_______|   s   |   n   |   r   |   t   |   d   |    y    |
    |  mo(1)  |       |  alt  | _symb |  ctl  |   L2  |       |           |       |   L2  |  ctl  | _symb |  alt  |       |  mo(1)  |
    |---------|-------|-------|-------|-------|-------|   _   |           |   \   |-------|-------|-------|-------|-------|---------|
    |   osm   |   ü   |   ö   |   ä   |   p   |   z   |       |           |       |   b   |   m   |   ,   |   .   |   j   |   osm   |
    |  l_sft  |       |       |       |       |       |       |           |       |       |       |       |       |       |  r_sft  |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |       | super |   up  |       |   :   |                                           |  esc  |  left | right |   up  |  down |
      |       |       |       | mo(3) |       |                                           |       |       |       |       |       |
      '---------------------------------------'                                           '---------------------------------------'
                                                 .---------------.     .---------------.
                                                 |       | vol   |     | r_sft | lock  |
                                                 |       |   up  |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       | vol   |     |       |       |       |
                                         |       | back- |  down |     |       |       |       |
                                         |  tab  | space |-------|     |-------| enter | space |
                                         |       |       | vol   |     |  del  |       |       |
                                         |       |       |  mute |     |       |       |       |
                                         '-----------------------'     '-----------------------'
 */
[_BASE] = KEYMAP(

 TO(_FW),      DE_1,           DE_2,         DE_3,          DE_4,          DE_5,          DE_ACUT,
 TG(_MS),        DE_X,           DE_V,         SFT_T(DE_L),   DE_C,          DE_W,          DE_COLN,
 TT(_SM),       DE_U,           ALT_T(DE_I),  LT(_SM,DE_A), CTL_T(DE_E),   LT(_NM, DE_O),  /*---*/
 OSM(MOD_LSFT),  DE_UE,          DE_OE,        DE_AE,         DE_P,          DE_Z,          DE_UNDS,
 _______,        KC_LGUI,        KC_UP,        MO(_FN),     DE_COLN,       /*---*/        /*---*/
 //
 KC_DEL,         KC_VOLU,                           //
 KC_VOLD,                                           // thumb keys
 KC_TAB,         KC_BSPC,        KC_MUTE,           //
 //
 DE_GRV,         DE_6,           DE_7,         DE_8,          DE_9,          DE_0,    TG(_GM),
 DE_AT,          DE_K,           DE_H,         SFT_T(DE_G),   DE_F,          DE_Q,    DE_SS,
 /*---*/         LT(_NM, DE_S), CTL_T(DE_N),  LT(_SM,DE_R), ALT_T(DE_T),   DE_D,    LT(_SM, DE_Y),
 DE_BSLS,        DE_B,           DE_M,         DE_COMM,       DE_DOT,        DE_J,    OSM(MOD_RSFT),
 /*---*/         /*---*/         KC_ESC,       KC_LEFT,       KC_RGHT,       KC_UP,   KC_DOWN,
 KC_RSFT,        KC_LOCK,                           //
 _______,                                           // thumb keys
 KC_DEL,         KC_ENTER,       KC_SPACE           //
),

/*
 * fast writing layer:
 * remove ctrl, shift, alt etc. from homerow
 */
[_FW] = KEYMAP(

 TO(_FC),    _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      DE_U,         DE_I,         DE_A,         DE_E,         DE_O,         /*---*/
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       DE_S,         DE_N,         DE_R,         DE_T,         DE_D,         _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______            //

),

/*
 * fast coding layer:
 * easier access to symbols and digits
 * this is still experimental
 */
[_FC] = KEYMAP(

 TO(_BASE),    _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      DE_U,         DE_I,         LT(_NM, DE_A), LT(_SM, DE_E), DE_O,         /*---*/
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       DE_S,         LT(_SM, DE_N), LT(_NM, DE_R), DE_T,         DE_D,         _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______            //

),
/*
    .---------------------------------------------------------.           .---------------------------------------------------------.
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |         |       |   _   |   [   |   ]   |   ^   |       |           |       |   !   |   <   |   >   |   =   |   &   |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |   \   |   /   |   {   |   }   |   *   |_______|           |_______|   ?   |   (   |   )   |   -   |   :   |    @    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |   #   |   $   |   |   |   ~   |       |       |           |       |   +   |   %   |   "   |   '   |   ;   |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |       |       |       |       |       |                                           |       |       |       |       |       |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '---------------------------------------'                                           '---------------------------------------'
                                                 .-------.-------.     .-------.-------.
                                                 |       |       |     |       |       |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |-------|     |-------|       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-----------------------'     '-----------------------'
 */
[_SM] = KEYMAP(

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      DE_UNDS,      DE_LBRC,      DE_RBRC,      DE_CIRC,      _______,
 _______,      DE_BSLS,      DE_SLSH,      DE_LCBR,      DE_RCBR,      DE_ASTR,
 _______,      DE_HASH,      DE_DLR,       DE_PIPE,      DE_TILD,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,
 _______,
 _______,      _______,      _______,

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      DE_EXLM,      DE_LESS,      DE_MORE,      DE_EQL,       DE_AMPR,      _______,
 /*---*/       DE_QST,       DE_LPRN,      DE_RPRN,      DE_MINS,      DE_COLN,      DE_AT,
 _______,      DE_PLUS,      DE_PERC,      DE_DQOT,      DE_QUOT,      DE_SCLN,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,
 _______,
 _______,      _______,      _______
),

/*
    .---------------------------------------------------------.           .---------------------------------------------------------.
    |         |       |       |       |       |       |       |           |       |       |   (   |   *   |   )   |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |         | page  | back  |  up   |  del  | page  |       |           |       |   +   |   7   |   8   |   9   |   -   |         |
    |         |   up  |  space|       |       |  down |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         | start | left  | down  | right |  end  |_______|           |_______|   .   |   4   |   5   |   6   |   :   |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |       |       | prev  | next  |       |       |           |       |   ,   |   1   |   2   |   3   |   /   |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |       |       |       |       |       |                                           |   [   |       |   ]   |       |       |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '---------------------------------------'                                           '---------------------------------------'
                                                 .-------.-------.     .-------.-------.
                                                 |       |       |     |       |       |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |-------|     |-------|       |   0   |
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-----------------------'     '-----------------------'
 */

[_NM] = KEYMAP(

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      KC_PGUP,      KC_BSPC,      KC_UP,        KC_DEL,       KC_PGDN,      _______,
 _______,      KC_HOME,      KC_LEFT,      KC_DOWN,      KC_RGHT,      KC_END,       /*---*/
 _______,      _______,      _______,      KC_MPRV,      KC_MNXT,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      DE_LPRN,      DE_ASTR,      DE_RPRN,      _______,      _______,
 _______,      DE_PLUS,      DE_7,         DE_8,         DE_9,         DE_MINS,      _______,
 /*---*/       DE_DOT,       DE_4,         DE_5,         DE_6,         DE_COLN,      _______,
 _______,      DE_COMM,      DE_1,         DE_2,         DE_3,         DE_SLSH,      _______,
 /*---*/       /*---*/       DE_LBRC,      _______,      DE_RBRC,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      DE_0               //
),
/*
    .---------.-------.-------.-------.-------.-------.-------.           .---------------------------------------------------------.
    |         |       |       |       |       |       |       |           |       |       |  F10  |  F11  |  F12  |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |         |       |       |       |       |       |       |           |       |       |  F7   |  F8   |  F9   |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |       |       |       |       |       |_______|           |_______|       |  F4   |  F5   |  F6   |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |       |       |       |       |       |       |           |       |       |  F1   |  F2   |  F3   |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |       |       |       |       |       |                                           |       |       |       |       |       |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '-------'-------'-------'-------'-------'                                           '---------------------------------------'
                                                 .-------.-------.     .-------.-------.
                                                 |       |       |     |       |       |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |-------|     |-------|       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-----------------------'     '-----------------------'
 */
[_FN] = KEYMAP(

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      /*---*/
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      KC_F10,       KC_F11,       KC_F12,       _______,      _______,
 _______,      _______,      KC_F7,        KC_F8,        KC_F9,        _______,      _______,
 /*---*/       _______,      KC_F4,        KC_F5,        KC_F6,        _______,      _______,
 _______,      _______,      KC_F1,        KC_F2,        KC_F3,        _______,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______            //
),

/*
    .---------.-------.-------.-------.-------.-------.-------.           .-------.-------.-------.-------.-------.-------.---------.
    |    _    |   _   |   _   |   _   |   _   |   _   |   _   |           |   _   |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |       |           |       |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |   _   |           |   _   |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |_______|           |_______|   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|   _   |           |   _   |-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |       |           |       |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |   _   |   _   |   _   |   _   |   _   |                                           |   _   |   _   |   _   |   _   |   _   |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '-------'-------'-------'-------'-------'                                           '-------'-------'-------'-------'-------'
                                                 .-------.-------.     .-------.-------.
                                                 |   _   |   _   |     |   _   |   _   |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |   _   |     |   _   |       |       |
                                         |       |       |       |     |       |       |       |
                                         |   _   |   _   |-------|     |-------|   _   |   _   |
                                         |       |       |   _   |     |   _   |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-------'-------'-------'     '-------'-------'-------'
 */

[_MS] = KEYMAP(
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      KC_MS_U,      _______,      _______,      _______,
 _______,      _______,      KC_MS_L,      KC_MS_D,      KC_MS_R,      _______,      /*---*/
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       _______,      KC_BTN1,      KC_BTN2,      KC_BTN3,      _______,      _______,
 _______,      _______,      KC_ACL0,      KC_ACL1,      KC_ACL2,      _______,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______            //
),

/*
    .---------.-------.-------.-------.-------.-------.-------.           .-------.-------.-------.-------.-------.-------.---------.
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |         |       |   b   |   n   |       |       |       |           |       |       |       |       |       |       |         |
    |         |       |       |       |       |       |   +   |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |         |       |       |       | left  |repeat |_______|           |_______|       |       |       |       |       |         |
    |         |       |       |       |  click| click |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|   -   |           |       |-------|-------|-------|-------|-------|---------|
    |         |       |   m   | space |   z   |   p   |       |           |       |       |       |       |       |       |         |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |       |       |       |       |       |                                           |       |       |       |       |       |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '-------'-------'-------'-------'-------'                                           '-------'-------'-------'-------'-------'
                                                 .-------.-------.     .-------.-------.
                                                 |       |       |     |       |       |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |-------|     |-------|       |       |
                                         |       |       |       |     |       |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-----------------------'     '-----------------------'
 */
[_GM] = KEYMAP(

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      DE_B,         DE_N,         _______,      _______,      KC_PPLS,
 _______,      _______,      _______,      _______,      KC_BTN1,      M(0),
 _______,      _______,      DE_M,         KC_SPACE,     DE_Z,         DE_P,         KC_PMNS,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______            //
),

/*
    .---------.-------.-------.-------.-------.-------.-------.           .-------.-------.-------.-------.-------.-------.---------.
    |    _    |   _   |   _   |   _   |   _   |   _   |   _   |           |   _   |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |       |           |       |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |   _   |           |   _   |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |_______|           |_______|   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|   _   |           |   _   |-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |       |           |       |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |   _   |   _   |   _   |   _   |   _   |                                           |   _   |   _   |   _   |   _   |   _   |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '-------'-------'-------'-------'-------'                                           '-------'-------'-------'-------'-------'
                                                 .-------.-------.     .-------.-------.
                                                 |   _   |   _   |     |   _   |   _   |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |   _   |     |   _   |       |       |
                                         |       |       |       |     |       |       |       |
                                         |   _   |   _   |-------|     |-------|   _   |   _   |
                                         |       |       |   _   |     |   _   |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-----------------------'     '-----------------------'
 */

[_D] = KEYMAP(
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      /*---*/
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______,           //

 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       _______,      _______,      _______,      _______,      _______,      _______,
 _______,      _______,      _______,      _______,      _______,      _______,      _______,
 /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 _______,      _______,                         //
 _______,                                       // thumb keys
 _______,      _______,      _______            //
),

};

const uint16_t PROGMEM fn_actions[] = {};

#define UC_MODE_WIN 0
#define UC_MODE_LINUX 1
#define UC_MODE_OSX 2

// TODO: allow default mode to be configured
static uint16_t unicode_mode = UC_MODE_WIN;

uint16_t hextokeycode(uint8_t hex) {
    if (hex == 0x0) {
        return KC_P0;
    }
    if (hex < 0xA) {
        return KC_P1 + (hex - 0x1);
    }
    return KC_A + (hex - 0xA);
}

void unicode_action_function(uint16_t hi, uint16_t lo) {
    switch (unicode_mode) {
    case UC_MODE_WIN:
        register_code(KC_LALT);

        register_code(KC_PPLS);
        unregister_code(KC_PPLS);

        register_code(hextokeycode((hi & 0xF0) >> 4));
        unregister_code(hextokeycode((hi & 0xF0) >> 4));
        register_code(hextokeycode((hi & 0x0F)));
        unregister_code(hextokeycode((hi & 0x0F)));
        register_code(hextokeycode((lo & 0xF0) >> 4));
        unregister_code(hextokeycode((lo & 0xF0) >> 4));
        register_code(hextokeycode((lo & 0x0F)));
        unregister_code(hextokeycode((lo & 0x0F)));

        unregister_code(KC_LALT);
        break;
    case UC_MODE_LINUX:
        register_code(KC_LCTL);
        register_code(KC_LSFT);

        register_code(KC_U);
        unregister_code(KC_U);

        register_code(hextokeycode((hi & 0xF0) >> 4));
        unregister_code(hextokeycode((hi & 0xF0) >> 4));
        register_code(hextokeycode((hi & 0x0F)));
        unregister_code(hextokeycode((hi & 0x0F)));
        register_code(hextokeycode((lo & 0xF0) >> 4));
        unregister_code(hextokeycode((lo & 0xF0) >> 4));
        register_code(hextokeycode((lo & 0x0F)));
        unregister_code(hextokeycode((lo & 0x0F)));

        unregister_code(KC_LCTL);
        unregister_code(KC_LSFT);
        break;
    case UC_MODE_OSX:
        break;
    }
}

const macro_t *action_get_macro(keyrecord_t *record, uint8_t id, uint8_t opt) {

    if (record->event.pressed) {

      switch(id) {
        case 0:

          for (int i = 0; i < 25; i++) {
            mousekey_on(KC_BTN1);
            mousekey_send();
            mousekey_off(KC_BTN1);
            mousekey_send();
            wait_ms(10);
          }

          break;
      }
    }

    return MACRO_NONE;
};

// Runs just one time when the keyboard initializes.
void matrix_init_user(void) {

};

LEADER_EXTERNS();
// Runs constantly in the background, in a loop.
void matrix_scan_user(void) {
    uint8_t layer = biton32(layer_state);

    ergodox_board_led_off();
    ergodox_right_led_1_off();
    ergodox_right_led_2_off();
    ergodox_right_led_3_off();

    switch (layer) {
        case 1:
            ergodox_right_led_1_on();
            break;
        case 2:
            ergodox_right_led_2_on();
            break;
        case 3:
            ergodox_right_led_3_on();
            break;
        case 4:
            ergodox_right_led_1_on();
            ergodox_right_led_2_on();
            break;
        case 5:
            ergodox_right_led_1_on();
            ergodox_right_led_3_on();
            break;
        case 6:
            ergodox_right_led_2_on();
            ergodox_right_led_3_on();
            break;
        case 7:
            ergodox_right_led_1_on();
            ergodox_right_led_2_on();
            ergodox_right_led_3_on();
            break;
        default:
            ergodox_board_led_off();
            break;
    }

};

/*
    .---------.-------.-------.-------.-------.-------.-------.           .-------.-------.-------.-------.-------.-------.---------.
    |    _    |   _   |   _   |   _   |   _   |   _   |   _   |           |   _   |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|-------|           |-------|-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |       |           |       |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |   _   |           |   _   |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|       |           |       |-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |_______|           |_______|   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    |---------|-------|-------|-------|-------|-------|   _   |           |   _   |-------|-------|-------|-------|-------|---------|
    |    _    |   _   |   _   |   _   |   _   |   _   |       |           |       |   _   |   _   |   _   |   _   |   _   |    _    |
    |         |       |       |       |       |       |       |           |       |       |       |       |       |       |         |
    '---------|-------|-------|-------|-------|---------------'           '---------------|-------|-------|-------|-------|---------'
      |   _   |   _   |   _   |   _   |   _   |                                           |   _   |   _   |   _   |   _   |   _   |
      |       |       |       |       |       |                                           |       |       |       |       |       |
      '-------'-------'-------'-------'-------'                                           '-------'-------'-------'-------'-------'
                                                 .-------.-------.     .-------.-------.
                                                 |   _   |   _   |     |   _   |   _   |
                                                 |       |       |     |       |       |
                                         .-------|-------|-------|     |-------|-------|-------.
                                         |       |       |   _   |     |   _   |       |       |
                                         |       |       |       |     |       |       |       |
                                         |   _   |   _   |-------|     |-------|   _   |   _   |
                                         |       |       |   _   |     |   _   |       |       |
                                         |       |       |       |     |       |       |       |
                                         '-------'-------'-------'     '-------'-------'-------'
 */

 // _______,      _______,      _______,      _______,      _______,      _______,      _______,
 // _______,      _______,      _______,      _______,      _______,      _______,      _______,
 // _______,      _______,      _______,      _______,      _______,      _______,      /*---*/
 // _______,      _______,      _______,      _______,      _______,      _______,      _______,
 // _______,      _______,      _______,      _______,      _______,
 // _______,      _______,                         //
 // _______,                                       // thumb keys
 // _______,      _______,      _______,           //

 // _______,      _______,      _______,      _______,      _______,      _______,      _______,
 // _______,      _______,      _______,      _______,      _______,      _______,      _______,
 // /*---*/       _______,      _______,      _______,      _______,      _______,      _______,
 // _______,      _______,      _______,      _______,      _______,      _______,      _______,
 // /*---*/       /*---*/       _______,      _______,      _______,      _______,      _______,
 // _______,      _______,                         //
 // _______,                                       // thumb keys
 // _______,      _______,      _______            //
